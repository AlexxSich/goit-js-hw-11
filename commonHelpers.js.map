{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconsole.log(\"test\")\n\nimport \"./js/pixabay-api\"\nimport \"./js/render-functions\"\n\nimport { getImages } from \"./js/pixabay-api\";\nimport { imageTemplate } from \"./js/render-functions\";\n\nconst userInput = document.querySelector(\".search-images-form\");\nconst myGallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader-container\")\n\nuserInput.addEventListener('submit', userInputHandler);\n\nfunction userInputHandler(event) {\n    event.preventDefault();\n    loader.classList.add(\"active\");\n    myGallery.innerHTML = \"\";\n    const searchedImg = event.target.elements.search.value.trim();\n    \n    if(searchedImg !== \"\") {\n       getImages(searchedImg).then(images => {\n        if(images.hits.length !== 0) {\n            const markup = imagesArr(images);\n            myGallery.innerHTML = markup;\n            new SimpleLightbox('.gallery-link', {\n                captionsData: 'alt',\n                captionDelay: 250,\n            }).refresh();\n        } else{\n            iziToast.error({\n                position: 'topRight',\n                title: 'Error',\n                message: '❌ Sorry, there are no images matching your search query. Please try again!',\n              }); \n            };      \n        }).catch(error => {\n        iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message: '❌ Something went wrong. Try again later.',\n          });\n        });\n    } else {\n        iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message: '❌ Please input your request in the search field',\n          });\n    };     \n\n    setTimeout(() => {\n        loader.classList.remove(\"active\");\n    }, 1000);\n\n    event.currentTarget.reset();\n    };   \n\n    function imagesArr(arr) {\n        return arr.hits.map(imageTemplate).join(\"\");\n    }"],"names":["userInput","myGallery","loader","userInputHandler","event","searchedImg","getImages","images","markup","imagesArr","SimpleLightbox","iziToast","error","arr","imageTemplate"],"mappings":"0MAMA,QAAQ,IAAI,MAAM,EAQlB,MAAMA,EAAY,SAAS,cAAc,qBAAqB,EACxDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,mBAAmB,EAEzDF,EAAU,iBAAiB,SAAUG,CAAgB,EAErD,SAASA,EAAiBC,EAAO,CAC7BA,EAAM,eAAc,EACpBF,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAU,UAAY,GACtB,MAAMI,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,OAEpDC,IAAgB,GAChBC,EAAUD,CAAW,EAAE,KAAKE,GAAU,CACrC,GAAGA,EAAO,KAAK,SAAW,EAAG,CACzB,MAAMC,EAASC,EAAUF,CAAM,EAC/BN,EAAU,UAAYO,EACtB,IAAIE,EAAe,gBAAiB,CAChC,aAAc,MACd,aAAc,GAC9B,CAAa,EAAE,QAAO,CACtB,MACYC,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,4EACzB,CAAe,EAEN,EAAE,MAAMC,GAAS,CAClBD,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,0CACrB,CAAW,CACX,CAAS,EAEDA,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,iDACrB,CAAW,EAGP,WAAW,IAAM,CACbT,EAAO,UAAU,OAAO,QAAQ,CACnC,EAAE,GAAI,EAEPE,EAAM,cAAc,OAExB,CACI,SAASK,EAAUI,EAAK,CACpB,OAAOA,EAAI,KAAK,IAAIC,CAAa,EAAE,KAAK,EAAE,CAClD"}