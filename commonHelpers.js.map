{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImages } from \"./js/pixabay-api\";\nimport { imageTemplate } from \"./js/render-functions\";\n\nconst userInput = document.querySelector(\".search-images-form\");\nconst myGallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader-container\")\n\nuserInput.addEventListener('submit', userInputHandler);\n\nconst lightBox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n}) \n\nfunction userInputHandler(event) {\n    event.preventDefault();\n    loader.classList.add(\"active\");\n    myGallery.innerHTML = \"\";\n    const searchedImg = event.target.elements.search.value.trim();\n    \n    if(searchedImg !== \"\") {\n       getImages(searchedImg).then(images => {\n        if(images.hits.length === 0) {\n            iziToast.error({\n                position: 'topRight',\n                title: 'Error',\n                message: '❌ Sorry, there are no images matching your search query. Please try again!',\n              });\n              return;\n        }\n            const markup = imagesArr(images);\n            myGallery.innerHTML = markup;  \n            lightBox.refresh();\n            userInput.reset();\n\n// event.currentTarget.reset();\n// ??? не зрозумів чому .catch() ловить event.currentTarget.reset() як помилку\n                        \n        }).catch(error => {\n        iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message: '❌ Something went wrong. Try again later.',\n          });\n        }).finally(() => {\n            loader.classList.remove(\"active\");\n        });\n    } else {\n        iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message: '❌ Please input your request in the search field',\n          });\n    };  \n    };   \n\n    function imagesArr(arr) {\n        return arr.hits.map(imageTemplate).join(\"\");\n    };\n"],"names":["userInput","myGallery","loader","userInputHandler","lightBox","SimpleLightbox","event","searchedImg","getImages","images","iziToast","markup","imagesArr","error","arr","imageTemplate"],"mappings":"0MASA,MAAMA,EAAY,SAAS,cAAc,qBAAqB,EACxDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,mBAAmB,EAEzDF,EAAU,iBAAiB,SAAUG,CAAgB,EAErD,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClB,CAAC,EAED,SAASF,EAAiBG,EAAO,CAC7BA,EAAM,eAAc,EACpBJ,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAU,UAAY,GACtB,MAAMM,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,OAEpDC,IAAgB,GAChBC,EAAUD,CAAW,EAAE,KAAKE,GAAU,CACrC,GAAGA,EAAO,KAAK,SAAW,EAAG,CACzBC,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,4EACzB,CAAe,EACD,MACL,CACG,MAAMC,EAASC,EAAUH,CAAM,EAC/BR,EAAU,UAAYU,EACtBP,EAAS,QAAO,EAChBJ,EAAU,MAAK,CAK3B,CAAS,EAAE,MAAMa,GAAS,CAClBH,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,0CACrB,CAAW,CACX,CAAS,EAAE,QAAQ,IAAM,CACbR,EAAO,UAAU,OAAO,QAAQ,CAC5C,CAAS,EAEDQ,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,iDACrB,CAAW,CAGX,CACI,SAASE,EAAUE,EAAK,CACpB,OAAOA,EAAI,KAAK,IAAIC,CAAa,EAAE,KAAK,EAAE,CAClD"}